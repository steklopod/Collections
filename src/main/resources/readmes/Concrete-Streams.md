## Потоки (Streams)

[Поток](http://www.scala-lang.org/api/2.12.2/scala/collection/immutable/Stream.html) похож на список, за исключением того, 
что его **элементы вычисляются лениво**. Из-за этого поток может быть бесконечно длинным. Вычисляются только запрошенные 
элементы. В противном случае потоки имеют те же характеристики производительности, что и списки.

Если списки создаются с помощью оператора `::`, потоки создаются с похожим видом `#::`. Вот простой пример потока, 
содержащего целые числа `1, 2 и 3`:

```scala
    scala> val str = 1 #:: 2 #:: 3 #:: Stream.empty
      str: scala.collection.immutable.Stream[Int] = Stream(1, ?)
```

Голова этого потока равна 1, а хвост содержит значения 2 и 3. Хвост здесь не печатается в консоль, потому что он еще не вычислен.
 Потоки вычисляются лениво, а метод `toString` потока внимателен к тому, чтобы не вызывать дополнительных вычислений.

Ниже приведен более сложный пример. Он вычисляет поток, который содержит последовательность Фибоначчи, начинающуюся с 
данных двух чисел. Последовательность Фибоначчи - это та, где _каждый элемент представляет собой сумму двух предыдущих элементов в серии_.

```scala
    scala> def fibFrom(a: Int, b: Int): Stream[Int] = a #:: fibFrom(b, a + b)
    fibFrom: (a: Int,b: Int)Stream[Int]
```

Эта функция обманчиво проста. Первый элемент последовательности, очевидно, `a`, а остальная часть последовательности - 
последовательность Фибоначчи, начинающаяся с `b`, за которой следует `a + b`. Сложная часть вычисляет эту последовательность, 
не вызывая бесконечной рекурсии. Если функция использует `::` вместо `#::`, то каждый вызов функции приведет к другому 
вызову, что приведет к бесконечной рекурсии. Поскольку он использует `#::`, однако, правая сторона не вычисляется до 
тех пор, пока она не будет запрошена. Вот первые несколько элементов последовательности Фибоначчи, начинающиеся с двух:

```scala
    scala> val fibs = fibFrom(1, 1).take(7)
      fibs: scala.collection.immutable.Stream[Int] = Stream(1, ?)
      
    scala> fibs.toList
      res9: List[Int] = List(1, 1, 2, 3, 5, 8, 13)
```

_Если этот проект окажется полезным тебе - нажми на кнопочку **`★`** в правом верхнем углу._

[=> Векторы (Vectors)](https://github.com/steklopod/Collections/blob/master/src/main/resources/readmes/Concrete-Vectors.md)

[<= содержание](https://github.com/steklopod/Collections/blob/master/readme.md)